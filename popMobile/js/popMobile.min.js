!function(e,o){function n(e,o){function n(t){t.target===this&&o&&o(),e.removeEventListener(i,n,!1)}var i,t=["a","webkitA","MozA","OA","msA"],l=["animationend","webkitAnimationEnd","animationend","oAnimationEnd","MSAnimationEnd"],a=document.createElement("div").style;if("onanimationend"in window)i="animationend";else if("onwebkitanimationend"in window)i="webkitAnimationEnd";else for(var s=0,r=t.length;s<r;s++)if(f=t[s]+"nimation",f in a){i=l[s];break}i&&e?e.addEventListener(i,n,!1):o&&o()}function i(e,o){var i=e.dom,t=i.is(".pop-mobile-layout");e.hideClass?(i.removeClass(e.showClass).addClass(e.hideClass),n(i[0],function(){i.removeAttr("style").removeClass("pop-mobile-container").removeClass(e.hideClass),o.remove(),e.callback&&e.callback(e),t&&i.remove(),e=i=o=null})):(i.removeAttr("style").removeClass("pop-mobile-container"),o.remove(),e.callback&&e.callback(e),t&&i.remove(),e=i=o=t=null)}function t(){var e=o(".pop-mobile-container"),n=o(".pop-mobile-layout"),i=o(".mask");e.removeAttr("style").removeClass(r.showClass).removeClass("pop-mobile-container"),i.remove(),n.remove(),e=i=n=null}function l(e){var n=o('<div class="mask"></div>'),l=o(".pop-mobile-container").length,a=e.dom||r.dom,m=e.close?e.close:r.close,d=e.zIndex||r.zIndex,p=e.mutex||r.mutex,f=e.before||r.before,c=e.after||r.after,b=e.width||0,u=e.height||0,v=e.showClass||"",h=function(o,t){o.css({position:"fixed",left:0,top:0,right:0,bottom:0,margin:"auto",zIndex:d+l}),n.css({position:"fixed",left:0,top:0,right:0,bottom:0,width:"100%",height:"100%",background:"rgba(0,0,0,.5)",zIndex:d+l}),v&&(-1==r.showClass.indexOf(v)&&(r.showClass+=v),o.addClass(v)),t&&(o.css({width:b+"rem",height:u+"rem"}),o.html(t),s.append(o),e.dom=o,f&&f(e)),o.off("touchmove").on("touchmove",function(e){e.preventDefault()}),o.find(m).off("tap").on("tap",function(o){i(e,n)})};if(p&&t(e),a&&"string"==typeof a){var C=o('<div class="pop-mobile-container pop-mobile-layout hide"></div>');h(C,a),C.before(n).show()}a&&"object"==typeof a&&(a.is(".pop-mobile-container")||(h(a),a.before(n).addClass("pop-mobile-container").show())),c&&c(e)}function a(e){new l(e)}var s=o("body"),r={dom:"",close:".pop-close",zIndex:100,mutex:0,showClass:"",before:null,after:null,callback:null};a.version="0.9.2",a.datetime="20171209","undefined"!=typeof module&&"object"==typeof exports?(exports.popMobile=a,exports.popMobileCloseAll=t):"undefined"!=typeof define&&define.amd?define(["jquery"],function(e,o,n){o.popMobile=a,o.popMobileCloseAll=t}):"function"==typeof o&&(o.popMobile=a,o.popMobileCloseAll=t)}(0,jQuery);